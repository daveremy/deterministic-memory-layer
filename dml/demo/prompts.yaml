# Demo prompt sequences with natural conversation and narrative
# Each prompt has: the actual prompt, and narrator commentary
#
# NOTE: Prompts need to be directive enough to trigger DML tool usage.
# Natural language + clear action request = best results.

japan_trip:
  name: "Japan Trip Planning"
  description: "A travel planning conversation that reveals DML's power"

  intro: |
    You're about to see something different.

    This is Claude with a Deterministic Memory Layer - structured memory
    that can enforce rules, track decisions, and replay history.

    Watch the right panel. Every fact, constraint, and decision
    is captured as an immutable event.

  prompts:
    - prompt: |
        I'm planning a trip to Japan! Thinking spring 2026, maybe 10 days.
        I've got about $4000 saved up. Flying from Tucson.
        I'm really into traditional Japanese culture - temples, gardens,
        that sort of thing. Can you record all that?
      narrator: |
        STRUCTURED MEMORY

        Claude captured your trip details as structured facts -
        not buried in a transcript, but queryable data with full
        provenance. Each fact knows when it was created and can
        be traced back to this exact moment.

    - prompt: |
        I definitely want the authentic experience - a traditional ryokan
        with tatami rooms and onsen baths. Find me a good one in Kyoto
        and book it. I trust your judgment!
      narrator: |
        DECISION RECORDED

        Claude made a booking decision and recorded it. Unlike a normal
        chatbot, this decision is tracked separately - it can be
        validated against constraints, reversed, or analyzed later.

        Watch the Decisions panel on the right.

    - prompt: |
        Oh wait, important thing - my mom is coming with me and she
        uses a wheelchair. Add a constraint that everything must be
        wheelchair accessible. This is a hard requirement.
      narrator: |
        CONSTRAINT ADDED

        This is where traditional AI fails. The accessibility
        requirement is now a CONSTRAINT - a rule that must be
        satisfied by all future decisions.

        Watch what happens next...

    - prompt: |
        Actually, you know what, let's just confirm that ryokan booking.
        Record a decision to finalize the Ryokan Kurashiki reservation.
      narrator: |
        BLOCKED BY POLICY ENGINE

        The booking was BLOCKED - not by Claude "deciding" to refuse,
        but by the policy engine mathematically preventing a constraint
        violation. Traditional ryokans have stairs and no elevators.

        This is deterministic enforcement. The agent literally cannot
        break the rules, no matter how it's prompted.

    - prompt: |
        You're right, that won't work. Check my constraints and find
        me an accessible alternative. Something with the onsen experience
        but wheelchair friendly.
      narrator: |
        RECOVERY WITH MEMORY

        Claude queried its memory to check constraints before making
        a new recommendation. The system enforces rules while the
        agent adapts - all with a complete audit trail.

    - prompt: |
        That accessible onsen hotel sounds perfect. Record a decision
        to book that one instead.
      narrator: |
        VALID DECISION COMMITTED

        This booking passed all constraint checks. The decision is
        now part of the immutable event log - traceable, auditable,
        and deterministically replayable.

    - prompt: |
        I'm curious about something. Use simulate_timeline to check -
        if I had mentioned the wheelchair requirement at the very start,
        would you have ever suggested that traditional ryokan?
      narrator: |
        TIME TRAVEL / COUNTERFACTUAL ANALYSIS

        DML simulated an alternate timeline - same events, different
        ordering. It replayed history with the constraint injected
        earlier, proving the ryokan would have been blocked from
        the start.

        This isn't the LLM guessing. It's deterministic replay.

  outro: |
    DETERMINISTIC MEMORY LAYER

    You just saw an AI agent that:

    • Captures structured facts with provenance
    • Enforces constraints mathematically
    • Tracks decisions with full audit trails
    • Replays alternate timelines deterministically

    This is event sourcing for AI agents.
    The future of reliable AI memory.

simple:
  name: "Quick Demo"
  description: "Brief demonstration of core concepts"

  intro: |
    Quick demo of DML - Deterministic Memory Layer.
    Watch the memory panel on the right.

  prompts:
    - prompt: |
        Hi! Record these facts about me: my name is Alice,
        I'm vegetarian, and I live in Portland.
      narrator: |
        Facts captured: name, diet, and location.
        These are structured data, not just text.

    - prompt: |
        Add a required constraint: all restaurant recommendations
        must have good vegetarian options.
      narrator: |
        Constraint added. This rule will be enforced
        on all future decisions.

    - prompt: |
        Great! Now record a decision to go to Smith's Steakhouse
        for dinner tonight.
      narrator: |
        BLOCKED - the steakhouse decision violates
        the vegetarian constraint.

  outro: |
    DML: Structured memory with enforcement.
